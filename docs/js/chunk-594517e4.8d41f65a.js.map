{"version":3,"sources":["webpack:///./src/views/article/index.vue?c220","webpack:///src/views/article/index.vue","webpack:///./src/views/article/index.vue?a06c","webpack:///./src/views/article/index.vue?fd51","webpack:///./src/api/article.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./src/views/article/index.vue?98ba"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","path","_v","ref","model","value","callback","$$v","status","expression","channelId","_l","item","index","key","name","id","dateRange","isLoading","on","$event","loadArticleList","_s","totalCount","directives","rawName","articleList","scopedSlots","_u","fn","scope","row","cover","images","articleStatus","type","text","$router","push","query","onDelete","currentPage","perPage","onCurrentChange","staticRenderFns","data","channels","created","loadArticleChannel","methods","page","component","getArticleList","params","request","method","url","getArticleChannel","deleteArticle","articleId","publishArticle","draft","getArticleInfo","updateArticle","redefine","anObject","$toString","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","R","p","rf","f","undefined","unsafe","module","exports","that","result","global","ignoreCase","multiline","dotAll","unicode","sticky"],"mappings":"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","file":"js/chunk-594517e4.8d41f65a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-container\"},[_c('el-card',{staticClass:\"filter-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"内容管理\")])],1)],1),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"40px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-radio-group',{model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_c('el-radio',{attrs:{\"label\":null}},[_vm._v(\"全部\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"草稿\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"待审核\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"审核通过\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"审核失败\")]),_c('el-radio',{attrs:{\"label\":4}},[_vm._v(\"已删除\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"频道\"}},[_c('el-select',{model:{value:(_vm.channelId),callback:function ($$v) {_vm.channelId=$$v},expression:\"channelId\"}},[_c('el-option',{attrs:{\"label\":\"全部\",\"value\":null}}),_vm._l((_vm.channels),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})})],2)],1),_c('el-form-item',{attrs:{\"label\":\"日期\"}},[_c('el-date-picker',{attrs:{\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"align\":\"right\"},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){return _vm.loadArticleList(1)}}},[_vm._v(\"筛选\")])],1)],1)],1),_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"根据筛选条件共查询到 \"+_vm._s(_vm.totalCount)+\" 条结果\")])]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"data\":_vm.articleList,\"border\":\"\",\"size\":\"medium\"}},[_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"封面\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticClass:\"article-cover\",attrs:{\"src\":scope.row.cover.images[0],\"preview-src-list\":[scope.row.cover.images[0]],\"fit\":\"cover\",\"lazy\":\"\"}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_vm._v(\" 加载中... \")])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":_vm.articleStatus[scope.row.status].type}},[_vm._v(_vm._s(_vm.articleStatus[scope.row.status].text))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"pubdate\",\"label\":\"发布时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.push({name: 'publish', query: {id: scope.row.id}})}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.onDelete(scope.row.id)}}})]}}])})],1),_c('el-pagination',{staticClass:\"pagination\",attrs:{\"background\":\"\",\"layout\":\"prev, pager, next, jumper\",\"current-page\":_vm.currentPage,\"total\":_vm.totalCount,\"page-size\":_vm.perPage,\"disabled\":_vm.isLoading},on:{\"current-change\":_vm.onCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"article-container\">\r\n    <el-card class=\"filter-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n          <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n          <el-breadcrumb-item>内容管理</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n      <el-form ref=\"form\" label-width=\"40px\" size='small'>\r\n        <el-form-item label=\"状态\">\r\n          <el-radio-group v-model=\"status\">\r\n            <el-radio :label=\"null\">全部</el-radio>\r\n            <el-radio :label=\"0\">草稿</el-radio>\r\n            <el-radio :label=\"1\">待审核</el-radio>\r\n            <el-radio :label=\"2\">审核通过</el-radio>\r\n            <el-radio :label=\"3\">审核失败</el-radio>\r\n            <el-radio :label=\"4\">已删除</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"频道\">\r\n          <el-select v-model=\"channelId\">\r\n            <el-option label=\"全部\" :value=\"null\"></el-option>\r\n            <el-option\r\n              v-for=\"(item, index) in channels\" :key=\"index\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"日期\">\r\n          <el-date-picker\r\n            v-model=\"dateRange\"\r\n            format=\"yyyy-MM-dd\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            type=\"datetimerange\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            align=\"right\">\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            :disabled=\"isLoading\"\r\n            @click=\"loadArticleList(1)\"\r\n          >筛选</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>根据筛选条件共查询到 {{ totalCount }} 条结果</span>\r\n      </div>\r\n      <el-table\r\n        :data=\"articleList\"\r\n        border\r\n        size='medium'\r\n        v-loading='isLoading'\r\n      >\r\n        <el-table-column\r\n          prop=\"date\"\r\n          label=\"封面\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-image\r\n              :src=\"scope.row.cover.images[0]\"\r\n              :preview-src-list=\"[scope.row.cover.images[0]]\"\r\n              class=\"article-cover\"\r\n              fit=\"cover\"\r\n              lazy\r\n            >\r\n              <div slot=\"placeholder\" class=\"image-slot\">\r\n                加载中...\r\n              </div>\r\n            </el-image>\r\n            <!-- <img\r\n              v-if=\"scope.row.cover.images[0]\"\r\n              class=\"article-cover\"\r\n              :src=\"scope.row.cover.images[0]\">\r\n            <img\r\n              v-else\r\n              class=\"article-cover\"\r\n              src=\"./no-cover.png\"> -->\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"title\"\r\n          label=\"标题\"\r\n        >\r\n        </el-table-column>\r\n        <el-table-column\r\n          label=\"状态\"\r\n        >\r\n        <!-- 如果要在自定义模板中获取当前遍历项的数据，则需要在 template 中定义 slot-scope='xxx' -->\r\n          <template slot-scope=\"scope\">\r\n            <el-tag\r\n              size=\"medium\"\r\n              :type=\"articleStatus[scope.row.status].type\"\r\n            >{{ articleStatus[scope.row.status].text }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"pubdate\"\r\n          label=\"发布时间\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"address\"\r\n          label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              type='primary'\r\n              icon='el-icon-edit'\r\n              @click=\"$router.push({name: 'publish', query: {id: scope.row.id}})\"\r\n              circle\r\n            ></el-button>\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              icon='el-icon-delete'\r\n              @click=\"onDelete(scope.row.id)\"\r\n              circle\r\n            ></el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        class=\"pagination\"\r\n        background\r\n        layout=\"prev, pager, next, jumper\"\r\n        @current-change=\"onCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :total=\"totalCount\"\r\n        :page-size=\"perPage\"\r\n        :disabled='isLoading'\r\n      >\r\n      </el-pagination>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getArticleList,\r\n  getArticleChannel,\r\n  deleteArticle\r\n} from 'api/article.js'\r\n\r\nexport default {\r\n  name: 'ArticleIndex',\r\n  data() {\r\n    return {\r\n      articleList: [], // 文章列表\r\n      articleStatus: [ // 文章状态\r\n        { text: '草稿', type: 'warning' }, // status: 0\r\n        { text: '待审核', type: '' }, // status: 1\r\n        { text: '审核通过', type: 'success' }, // status: 2\r\n        { text: '审核失败', type: 'danger' }, // status: 3\r\n        { text: '已删除', type: 'info' } // status: 4\r\n      ],\r\n      totalCount: 0, // 文章总数\r\n      perPage: 10, // 默认每页 10 条\r\n      status: null, // 默认查询所有状态\r\n      channelId: null, // 默认查询所有频道\r\n      channels: [], // 频道\r\n      dateRange: [], // 日期范围\r\n      isLoading: true, // 是否在加载中\r\n      currentPage: 1 // 当前在第几页\r\n    }\r\n  },\r\n  created() {\r\n    this.loadArticleChannel()\r\n    this.loadArticleList(1)\r\n  },\r\n  methods: {\r\n    async loadArticleList(page) {\r\n      this.isLoading = true // 开启 loading\r\n\r\n      try {\r\n        const res = await getArticleList({\r\n          page, // 查询第几页\r\n          per_page: this.perPage, // 每页多少条\r\n          status: this.status, // 查询哪种文章状态\r\n          channel_id: this.channelId, // 查询哪个频道\r\n          begin_pubdate: this.dateRange ? this.dateRange[0] : null, // 开始日期\r\n          end_pubdate: this.dateRange ? this.dateRange[1] : null // 结束日期\r\n        })\r\n        const { results, total_count: totalCount } = res.data.data\r\n        this.articleList = results\r\n        this.totalCount = totalCount\r\n      } catch (ex) {\r\n        console.log(ex)\r\n      }\r\n\r\n      this.isLoading = false // 关闭 loading\r\n    },\r\n    async loadArticleChannel() {\r\n      try {\r\n        const res = await getArticleChannel()\r\n        this.channels = res.data.data.channels\r\n      } catch (ex) {\r\n        console.log(ex)\r\n      }\r\n    },\r\n    onCurrentChange(page) {\r\n      this.loadArticleList(page, this.perPage)\r\n    },\r\n    async onDelete(articleId) {\r\n      try { // 确认删除\r\n        await this.$warningBox('确定删除该文章吗？', '提示')\r\n        await deleteArticle(articleId.toString())\r\n        this.loadArticleList(this.currentPage) // 删除成功后，刷新当前页\r\n        this.$msgSuccess('删除成功！')\r\n      } catch (ex) { // 取消删除\r\n        this.$msgNormal('已取消操作！')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.article-container {\r\n  .filter-card {\r\n    margin-bottom: 20px;\r\n  }\r\n  .pagination {\r\n    padding-top: 20px;\r\n  }\r\n  .article-cover {\r\n    width: 100px;\r\n    .image-slot {\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5bc6c7c8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5bc6c7c8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bc6c7c8\",\n  null\n  \n)\n\nexport default component.exports","import request from 'utils/request.js'\r\n\r\nconst getArticleList = params => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/mp/v1_0/articles',\r\n    params\r\n  })\r\n}\r\n\r\nconst getArticleChannel = () => {\r\n  return request({\r\n    method: 'GET',\r\n    url: '/mp/v1_0/channels'\r\n  })\r\n}\r\n\r\nconst deleteArticle = articleId => {\r\n  return request({\r\n    method: 'DELETE',\r\n    url: `/mp/v1_0/articles/${articleId}`\r\n  })\r\n}\r\n\r\nconst publishArticle = (data, draft) => {\r\n  return request({\r\n    method: 'POST',\r\n    url: '/mp/v1_0/articles',\r\n    params: {\r\n      draft // 是否存入草稿\r\n    },\r\n    data // 请求体数据\r\n  })\r\n}\r\n\r\nconst getArticleInfo = articleId => {\r\n  return request({\r\n    method: 'GET',\r\n    url: `/mp/v1_0/articles/${articleId}`\r\n  })\r\n}\r\n\r\nconst updateArticle = (articleId, data, draft) => {\r\n  return request({\r\n    method: 'PUT',\r\n    url: `/mp/v1_0/articles/${articleId}`,\r\n    params: {\r\n      draft\r\n    },\r\n    data\r\n  })\r\n}\r\n\r\nexport {\r\n  getArticleList,\r\n  getArticleChannel,\r\n  deleteArticle,\r\n  publishArticle,\r\n  getArticleInfo,\r\n  updateArticle\r\n}\r\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5bc6c7c8&lang=scss&scoped=true&\""],"sourceRoot":""}